function isValidEmailAddress(e) { return new RegExp(/^(("[\w-+\s]+")|([\w-+]+(?:\.[\w-+]+)*)|("[\w-+\s]+")([\w-+]+(?:\.[\w-+]+)*))(@((?:[\w-+]+\.)*\w[\w-+]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][\d]\.|1[\d]{2}\.|[\d]{1,2}\.))((25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\.){2}(25[0-5]|2[0-4][\d]|1[\d]{2}|[\d]{1,2})\]?$)/i).test(e) } jQuery(document).ready(function (e) { e(".oceanwp-newsletter-form-wrap #mc-embedded-subscribe-form").on("submit", function (d) { d.preventDefault(); var i = e(this), a = i.find(".email").val(), s = !0; if (i.find(".err-msg").hide(), 0 == e.trim(a).length ? (s = !1, i.find(".email-err.req").show()) : isValidEmailAddress(a) || (s = !1, i.find(".email-err.not-valid").show()), i.find(".gdpr").length && !i.find(".gdpr").is(":checked") && (s = !1, i.find(".gdpr-err.err-msg").show()), i.find(".res-msg").hide(), s) { i.find("button").attr("disabled", !0); var r = { action: "oceanwp_mailchimp_request", email: a }; e.ajax({ type: "POST", url: kfw_kmt_framework_ajax_save.ajax_url, data: r, success: function (e) { i.find("button").attr("disabled", !1), e.status ? i.find(".res-msg.success").show().delay(5e3).fadeOut() : i.find(".res-msg.failed").show().delay(5e3).fadeOut() }, complete: function () { } }) } }) });